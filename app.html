<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Application - Banque Digitale Africaine</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>
  <script src="assets/js/firebase-config.js"></script>
  <script defer src="assets/js/app.js"></script>
</head>
<body class="app">
  <header class="topbar">
    <div class="logo">Banque Digitale Africaine</div>
    <nav class="nav">
      <a href="index.html">Accueil</a>
      <button id="logoutBtn" class="btn btn-outline small" style="display:none;">Déconnexion</button>
    </nav>
  </header>

  <main class="app-layout">
    <section class="auth-panel" id="authPanel">
      <h1>Connexion / Création de compte</h1>
      <p class="muted">Crée ton compte pour accéder à ton tableau de bord.</p>

      <label>Email</label>
      <input id="emailInput" type="email" placeholder="ex: toi@mail.com" />

      <label>Mot de passe</label>
      <input id="passwordInput" type="password" placeholder="Minimum 6 caractères" />

      <div class="row gap">
        <button id="signupBtn" class="btn btn-primary">Créer un compte</button>
        <button id="loginBtn" class="btn btn-outline">Connexion</button>
      </div>

      <p id="authMessage" class="message"></p>
    </section>

    <section class="dashboard" id="dashboard" style="display:none;">
      <div class="dashboard-header">
        <div>
          <h1>Tableau de bord</h1>
          <p class="muted">Bienvenue, <span id="userEmail"></span></p>
          <p class="muted">Rôle : <span id="userRole">client</span> &mdash;
            Statut KYC : <span id="userKycStatus" class="badge badge-kyc">none</span>
          </p>
        </div>
        <div class="balance-card">
          <span class="label">Solde principal</span>
          <span class="amount"><span id="walletBalance">0</span> XAF</span>
        </div>
      </div>

      <div class="grid grid-2 stretch">
        <section class="panel">
          <h2>Nouvelle opération interne</h2>
          <label>Libellé</label>
          <input id="txLabel" type="text" placeholder="Ex: Recharge mobile, virement interne..." />
          <label>Montant (XAF)</label>
          <input id="txAmount" type="number" step="100" placeholder="Ex: 5000" />
          <button id="addTxBtn" class="btn btn-primary btn-full">Enregistrer l’opération</button>
          <p id="txMessage" class="message"></p>
        </section>

        <section class="panel" id="kycPanel">
          <h2>Vérification d’identité (KYC)</h2>
          <p class="muted small">
            Ces informations sont stockées dans Firebase Storage et Firestore, prêtes à être traitées
            par un futur back-office conformité.
          </p>
          <label>Type de document</label>
          <select id="kycDocType">
            <option value="cni">Carte Nationale d’Identité</option>
            <option value="passport">Passeport</option>
            <option value="permis">Permis de conduire</option>
          </select>

          <label>Document d’identité (photo / scan)</label>
          <input id="kycDocFile" type="file" accept="image/*,.pdf" />

          <label>Selfie de vérification</label>
          <input id="kycSelfieFile" type="file" accept="image/*" />

          <button id="sendKycBtn" class="btn btn-outline btn-full">Envoyer mon dossier KYC</button>
          <p id="kycMessage" class="message"></p>
        </section>
      </div>

      <section class="panel">
        <h2>Historique des opérations</h2>
        <div id="txHistory" class="tx-history empty">
          <p class="muted small">Aucune opération pour l’instant.</p>
        </div>
      </section>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Banque Digitale Africaine — version pilote (Firebase).</p>
  </footer>
</body>
</html>
